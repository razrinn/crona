{"version":3,"file":"static/webpack/static/development/pages/index.js.d0c806e655e4345fbc69.hot-update.js","sources":["webpack:///./utils/fetcher.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { summaryUrl, areaUrl, dailyUrl } from \"./url\";\n\nconst fetchData = (url) => {\n    const [data, setData] = useState();\n    useEffect(() => {\n        const fetchData = async () => {\n            console.log(\"Fetching data...\");\n            const result = await fetch(url)\n                .then((response) => response.json())\n                .catch((err) => err);\n            setData(result);\n        };\n        fetchData();\n    }, []);\n    return data;\n};\n\nconst useSummaryStats = () => fetchData(summaryUrl);\nconst useProvinceStats = () => fetchData(areaUrl);\nconst useLastUpdate = () => {\n    const response = fetchData(dailyUrl);\n    return response\n        ? new Date(response.data[response.data.length - 1].tanggal)\n        : null;\n};\nconst usePercentageStats = () => {\n    const response = fetchData(dailyUrl);\n    const recentData = response\n        ? response.data[response.data.length - 1]\n        : null;\n    return recentData\n        ? {\n              perawatan: recentData.persentasePasiendalamPerawatan.toFixed(\n                  2\n              ),\n              sembuh: recentData.persentasePasienSembuh.toFixed(2),\n              meninggal: recentData.persentasePasienMeninggal.toFixed(2),\n          }\n        : null;\n};\nconst useDailyStats = () => fetchData(dailyUrl);\nexport {\n    useSummaryStats,\n    useProvinceStats,\n    useLastUpdate,\n    usePercentageStats,\n    useDailyStats,\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAGA;AAAA;AACA;AAAA;AACA;AALA;AAEA;AAGA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AAGA;AAEA;AAGA;AACA;AALA;AAQA;AACA;AAAA;AAAA;AAAA;AACA;;;;;A","sourceRoot":""}